<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Socket.IO Chat Demo</title>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  </head>
  <body>
    <h2>Realtime Chat Demo</h2>
    <div id="messages" style="border:1px solid #aaa; height:200px; overflow-y:auto; padding:5px;"></div>
    <input id="messageInput" placeholder="Type a message..." />
    <button id="sendBtn">Send</button>

    <script>
      const socket = io("http://localhost:3002");

      const messagesDiv = document.getElementById("messages");
      const input = document.getElementById("messageInput");
      const button = document.getElementById("sendBtn");

      socket.on("chat-message", (msg) => {
        const div = document.createElement("div");
        div.textContent = msg;
        messagesDiv.appendChild(div);
      });

      button.onclick = () => {
        const msg = input.value;
        socket.emit("chat-message", msg);
        input.value = "";
      };
    </script>
  </body>
</html>